<!DOCTYPE html>
<html lang="en">

<head>
    <title></title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
</head>

<body>
    <nav class="navbar navbar-dark bg-dark text-white">
     <h1> COVID-19 TRACKER</h1>
       <span class="navbar-text">
        Central Helpline Number for corona-virus: - +91-11-23978046
      </span>
    </nav>
    <div class="container-max-widths" style="margin-top: 2%;">

        <div class="card bg-dark text-white">
            <h5 class="card-header border-white">Deaths</h5>
            <div class="card-body">
                <h5 class="card-title" id="death_id"></h5>
            </div>
        </div>
        <div class="card bg-dark text-white">
            <h5 class="card-header border-white">Recovered</h5>
            <div class="card-body">
                <h5 class="card-title" id="recovered_id"></h5>
            </div>
        </div>
        <div class="card bg-dark text-white ">
            <h5 class="card-header border-white">Total Confirmed</h5>
            <div class="card-body">
                <h5 class="card-title" id="totalconfirmed_id"></h5>

            </div>
        </div>

        <div class="helpline">
            <table class="table table-striped table-dark ">
                <tr>
                    <th>State/UT</th>
                    <th>Helpline Nos.</th>
                </tr>
                <tr>
                    <td>Andman & Nicobar</td>
                    <td>03192-232102</td>
                </tr>
                <tr>
                    <td>Andhra Pradesh</td>
                    <td>0866-2410978</td>
                </tr>
                <tr>
                    <td>Arunachal Pradesh</td>
                    <td>9436055743</td>
                </tr>
                <tr>
                    <td>Assam</td>
                    <td>6913347770</td>
                </tr>
                <tr>
                    <td>Bihar</td>
                    <td>104</td>
                </tr>
                <tr>
                    <td>Chandigarh</td>
                    <td>9779558282</td>
                </tr>
                <tr>
                    <td>Chhattisgarh</td>
                    <td>077122-35091</td>
                </tr>
                <tr>
                    <td>Dadra Nagar Haveli</td>
                    <td>104</td>
                </tr>
                <tr>
                    <td>Delhi</td>
                    <td>011-22307145</td>
                </tr>
                <tr>
                    <td>Goa</td>
                    <td>104</td>
                </tr>
                <tr>
                    <td>Gujarat</td>
                    <td>104</td>
                </tr>
                <tr>
                    <td>Haryana</td>
                    <td>8558893911</td>
                </tr>
                <tr>
                    <td>Himachal Pradesh</td>
                    <td>104</td>
                </tr>
                <tr>
                    <td>Jammu/Kashmir</td>
                    <td>01912520982/01942440283</td>
                </tr>
                <tr>
                    <td>Jharkhand</td>
                    <td>104</td>
                </tr>
                <tr>
                    <td>Karnataka</td>
                    <td>104</td>
                </tr>
                <!-- <tr>
                    <td>Kashmir</td>
                    <td>01942440283</td>
                </tr> -->
                <tr>
                    <td>Kerala</td>
                    <td>0471-2552056</td>
                </tr>
                <tr>
                    <td>Ladakh</td>
                    <td>01982256462</td>
                </tr>
                <!-- <tr>
                    <td>Lakshadweep</td>
                    <td>104</td>
                </tr> -->
                <tr>
                    <td>Madhya Pradesh</td>
                    <td>0755-2527177</td>
                </tr>
                <tr>
                    <td>Maharashtra</td>
                    <td>020-26127394</td>
                </tr>
                <tr>
                    <td>Manipur	</td>
                    <td>3852411668</td>
                </tr>
                <tr>
                    <td>Meghalaya</td>
                    <td>108</td>
                </tr>
                <tr>
                    <td>Mizoram</td>
                    <td>102</td>
                </tr>
                <!-- <tr>
                    <td>Nagaland</td>
                    <td>7005539653</td>
                </tr> -->
                <tr>
                    <td>Odisha</td>
                    <td>9439994859</td>
                </tr>
                <tr>
                    <td>Puducherry</td>
                    <td>104</td>
                </tr>
                <tr>
                    <td>Punjab</td>
                    <td>104</td>
                </tr>
                <tr>
                    <td>Rajasthan</td>
                    <td>0141-2225624</td>
                </tr>
                <tr>
                    <td>Sikkim</td>
                    <td>104</td>
                </tr>
                <tr>
                    <td>Tamil Nadu</td>
                    <td>044-29510500</td>
                </tr>
                <tr>
                    <td>Telangana</td>
                    <td>104</td>
                </tr>
                <tr>
                    <td>Tripura</td>
                    <td>0381-2315879</td>
                </tr>
                <tr>
                    <td>Uttarakhand</td>
                    <td>104</td>
                </tr>
                <tr>
                    <td>Uttar Pradesh</td>
                    <td>18001805145</td>
                </tr>
                <tr>
                    <td>West Bengal</td>
                    <td>3323412600</td>
                </tr>
                
            </table>
        </div>

        <div class="stats">
            <table id="mytable" class="table table-striped table-dark ">
                <tr>
                    <th>Location</th>
                    <th>Confirmed Cases Indian</th>
                    <th>Discharged</th>
                    <th>Deaths</th>
                    <th>Confirmed Cases Foreign</th>
                    <th>Total Confirmed</th>
                </tr>
            </table>
        </div>

        <canvas id="myChart1"></canvas>
        <canvas id="myChart2"></canvas>
        <p><b>
                <div id="last">

                </div>
            </b></p>
    </div>
    <script>
        // ======================================================================================================================
        var loc = []
        var deaths = []
        var discharged = []
        var indian = []
        var foreign = []

        async function display_myChart1() {
            await fetch("https://api.rootnet.in/covid19-in/stats/latest")
                .then(res => res.json())
                .then((data) => {
                    var i = 1;
                    data.data.regional.forEach(async function (states) {
                        loc.push(states.loc)
                        deaths.push(parseInt(states.deaths))
                        discharged.push(parseInt(states.discharged))
                        indian.push(parseInt(states.confirmedCasesIndian))
                        foreign.push(parseInt(states.confirmedCasesForeign))

                        var table = document.getElementById("mytable");
                        var row = table.insertRow(i);

                        var cell1 = row.insertCell(0);
                        var cell2 = row.insertCell(1);
                        var cell3 = row.insertCell(2);
                        var cell4 = row.insertCell(3);
                        var cell5 = row.insertCell(4);
                        var cell6 = row.insertCell(5);


                        cell1.innerHTML = states.loc;
                        cell2.innerHTML = states.confirmedCasesIndian;
                        cell3.innerHTML = states.discharged;
                        cell4.innerHTML = states.deaths;
                        cell5.innerHTML = states.confirmedCasesForeign;
                        cell6.innerHTML = states.totalConfirmed;

                        i = i + 1;

                    })

                });

            document.getElementById("death_id").innerHTML=3868
            document.getElementById("recovered_id").innerHTML = 54001
            document.getElementById("totalconfirmed_id").innerHTML = 130859
            
            var ctx = document.getElementById('myChart1').getContext('2d');
            var chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: loc,
                    datasets: [{
                        label: 'Death Stats',
                        backgroundColor: 'rgb(255, 0, 0)',
                        // borderColor: 'grey',
                        data: deaths,
                        fill: false,
                    },
                    {
                        label: 'Recovered Stats',
                        backgroundColor: 'rgb(50, 200, 0)',
                        data: discharged,
                        fill: false,
                    },
                    ]
                },
                options: {}
            });

            var ctx0 = document.getElementById('myChart2').getContext('2d');
            var chart0 = new Chart(ctx0, {
                type: 'line',
                data: {
                    labels: loc,
                    datasets: [{
                        label: 'Confirmed Cases Indian',
                        backgroundColor: 'rgb(255, 0, 0)',
                        data: indian,
                        fill: false,
                    },
                    {
                        label: 'Confirmed Cases Foreign',
                        backgroundColor: 'rgb(50, 200, 0)',
                        data: foreign,
                        fill: false,
                    },
                    ]
                },
                options: {}
            });
        }
        display_myChart1()
    </script>

</body>

</html>